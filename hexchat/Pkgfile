# Description: GTK+ based IRC client
# URL:         https://hexchat.github.io
# Depends on:  dbus-glib desktop-file-utils enchant iso-codes libnotify libproxy libtool lua pciutils python

name=hexchat
version=2.14.3
release=3
source=(https://dl.hexchat.net/hexchat/$name-$version.tar.xz)

build() {
	cd $name-$version

	meson build \
		--prefix=/usr           \
		--buildtype=plain       \
		-Dwith-lua=lua          \
		-Dwith-libproxy=true    \
		-Dwith-libnotify=true   \
		-Dwith-libcanberra=false \
		-Dwith-python="python2" \
		-Dwith-dbus=true        \
		-Dwith-sysinfo=false    \
		-Dwith-text=false       \

	ninja -C build -j ${JOBS:-1} -v
	DESTDIR="$PKG" ninja -C build install

	rm -r $PKG/usr/share/locale
}
