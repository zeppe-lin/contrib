# Description: A set of plugins for gstreamer that may pose distribution problems.
# URL: https://gstreamer.freedesktop.org/modules/gst-plugins-bad.html
# Depends on: brotli chromaprint e2fsprogs faac faad2 gst-plugins-base ladspa lame libass libdca libdvdnav libmms libmodplug libmpcdec librsvg-compat libsndfile libsrtp libusb libva libvpx libwebp mjpegtools neon openal openjpeg openldap rtmpdump x264 x265
# Optional: krb5

name=gst-plugins-bad
version=1.18.3
release=1
source=(https://gstreamer.freedesktop.org/src/$name/$name-$version.tar.xz)

build() {
	cd $name-$version

	meson build \
		--prefix=/usr \
		--libexecdir=/usr/lib \
		-D buildtype=plain \
		-D gtk_doc=disabled \
		-D nls=disabled \
		-D package-name="GStreamer (CRUX Linux)" \
		-D package-origin="https://crux.nu/"

	ninja -C build -j ${JOBS:-1}
	DESTDIR=$PKG ninja -C build install
}
